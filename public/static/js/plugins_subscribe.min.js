$.fn.subscribeForm = function(a) {
  var b = $(this);
  $(this).submit(function(c) {
    c.preventDefault(), $.ajax({
      url: a.url,
      type: "post",
      dataType: "json",
      data: b.serialize(),
      success: function(c) {
        if (a.success) a.success.call(c);
        else if ($("ul li span", b).html(""), c.errors) {
          var d = "";
          $.each(c.errors, function(a, b) {
            $("#id_" + a + "_error").html(b), "__all__" === a && (d += "<li>" + a + " " + b + "</li>;")
          }), $("#" + a.alert_container).html("<ul>" + d + "</ul>")
        } else div = c.already ? a.alreadySuccessDiv : a.successDiv, $("#" + div).fadeIn(), setTimeout(function() {
          $("#" + div).hide()
        }, 5e3), b[0].reset()
      }
    })
  })
}, $.fn.unSubscribeForm = function(a) {
  var b = $(this);
  b.submit(function(c) {
    c.preventDefault(), $.ajax({
      url: a.url,
      dataType: "json",
      data: b.serialize(),
      success: function(c) {
        console.log(c.status), a.success ? a.success.call(c) : 1 == c.status ? ($("#id_unsubscribed").show(), setTimeout(function() {
          $("#id_unsubscribed").hide()
        }, 5e3)) : 0 == c.status && ($("#id_unsubscribed").html("<span>Email not found</span>"), $("#id_unsubscribed").show(), setTimeout(function() {
          $("#id_unsubscribed").hide()
        }, 5e3)), b[0].reset()
      }
    })
  })
};